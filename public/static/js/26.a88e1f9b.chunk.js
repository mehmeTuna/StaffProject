(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[26],{1075:function(e,a,t){"use strict";t.r(a);var n=t(89),r=t(19),i=t(15),o=t(0),l=t.n(o),c=t(1064),s=t(976),d=t.n(s),m=t(3),p=t.n(m),u=t(884),f=t(26),g=t(16),v=t(9),b=t(2),h=t(928),E=t(66),O=t(871),y=Object(u.a)((function(e){return{root:{padding:e.spacing(3)}}})),j=function(e){var a=e.onListAdd,t=e.className,n=Object(v.a)(e,["onListAdd","className"]),r=y();return l.a.createElement("div",Object.assign({},n,{className:Object(b.a)(r.root,t)}),l.a.createElement(h.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},l.a.createElement(h.a,{item:!0},l.a.createElement(E.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Organization"),l.a.createElement(E.a,{component:"h1",variant:"h3"},"Kanban Board")),l.a.createElement(h.a,{item:!0},l.a.createElement(O.a,{color:"primary",onClick:a,variant:"contained"},"Add list"))))},N=t(23),x=t(34),w=t.n(x),k=t(913),I=t(870),D=t(140),S=t.n(D),L=Object(u.a)((function(e){return{root:Object(N.a)({userSelect:"none",whiteSpace:"normal",height:"100%",display:"inline-flex",flexDirection:"column",verticalAlign:"top",width:500,padding:e.spacing(0,1),margin:e.spacing(0,1)},e.breakpoints.down("xs"),{width:300}),isDraggingOver:{},header:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,padding:e.spacing(.5,2),borderRadius:4,display:"flex",alignItems:"center"},counter:{marginLeft:e.spacing(1)},headerAction:{marginLeft:"auto"},content:{flexGrow:1,overflowY:"hidden"},inner:{padding:e.spacing(2,3)}}})),A=function(e){var a=e.title,t=e.total,n=e.provided,r=e.snapshot,i=e.className,o=e.children,c=Object(v.a)(e,["title","total","provided","snapshot","className","children"]),s=L();return l.a.createElement("div",Object.assign({},c,{className:Object(b.a)(s.root,i),ref:n.innerRef}),l.a.createElement("div",{className:s.header},l.a.createElement(E.a,{color:"inherit",variant:"h5"},a),l.a.createElement(E.a,{className:s.counter,color:"inherit",variant:"h6"},"- ",t),l.a.createElement("div",{className:s.headerAction},l.a.createElement(k.a,{title:"Add task"},l.a.createElement(I.a,{color:"inherit",edge:"end",variant:"contained"},l.a.createElement(S.a,null))))),l.a.createElement("div",{className:Object(b.a)(s.content,Object(N.a)({},s.isDraggingOver,r.isDraggingOver))},l.a.createElement(w.a,{options:{suppressScrollX:!0}},l.a.createElement("div",{className:s.inner},o))))},C=t(5),P=t.n(C),T=t(911),B=t(923),G=t(912),M=t(143),R=t.n(M),J=t(1009),K=t.n(J),X=Object(u.a)((function(e){return{root:{outline:"none",marginBottom:e.spacing(2)},isDragging:{},content:{paddingTop:0},stats:{display:"flex",alignItems:"center"},flexGrow:{flexGrow:1},files:{color:e.palette.icon,marginLeft:e.spacing(2),display:"flex",alignItems:"center"},comments:{color:e.palette.icon,marginLeft:e.spacing(2),display:"flex",alignItems:"center"},date:{marginLeft:e.spacing(2)},progress:{marginTop:e.spacing(2)}}})),Y=function(e){var a=e.task,t=(e.onOpen,e.provided),n=e.snapshot,i=e.className,o=e.style,c=Object(v.a)(e,["task","onOpen","provided","snapshot","className","style"]),s=X();return l.a.createElement(T.a,Object.assign({},c,{ref:t.innerRef},t.draggableProps,t.dragHandleProps,{className:Object(b.a)(s.root,Object(N.a)({},s.isDragging,n.isDragging),i),style:Object(r.a)({},o,{},t.draggableProps.style)}),l.a.createElement(B.a,{action:l.a.createElement(g.e,null),subheader:"#".concat(a.ref),subheaderTypographyProps:{variant:"overline"},title:a.title,titleTypographyProps:{variant:"h5",gutterBottom:!0}}),l.a.createElement(G.a,{className:s.content},l.a.createElement("div",{className:s.stats},l.a.createElement(g.s,{avatars:a.members,limit:4}),a.files>0&&l.a.createElement("div",{className:s.files},l.a.createElement(R.a,null)),a.comments>0&&l.a.createElement("div",{className:s.comments},l.a.createElement(K.a,null)),l.a.createElement("div",{className:s.flexGrow}),l.a.createElement(E.a,{className:s.date,color:"textSecondary",variant:"body2"},P()(a.deadline).format("D MMM")))))};Y.displayName="TaskListItem",Y.defaultProps={style:{},onOpen:function(){}};var z=Y,H=t(251),W=Object(u.a)((function(e){return{root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",outline:"none",boxShadow:e.shadows[20],width:360,maxWidth:"100%"}}})),q=function(e){var a=e.open,t=e.onClose,n=e.task,r=e.className,i=Object(v.a)(e,["open","onClose","task","className"]),o=W();return a?l.a.createElement(H.a,{onClose:t,open:a},l.a.createElement(T.a,Object.assign({},i,{className:Object(b.a)(o.root,r)}),l.a.createElement(G.a,null,l.a.createElement(E.a,{variant:"h6"},n.title),l.a.createElement(E.a,{variant:"body1"},n.desc)))):null};q.displayName="TaskDetails",q.defaultProps={open:!1,onClose:function(){}};var F=q,Q=Object(u.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column"},content:{flexGrow:1,padding:e.spacing(0,3,3,1),overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap"}}})),U=function(){var e=Q(),a=Object(o.useState)([]),t=Object(i.a)(a,2),s=t[0],m=t[1],u=Object(o.useState)(null),v=Object(i.a)(u,2),b=v[0],h=v[1];Object(o.useEffect)((function(){var e=!0;return f.a.get("/api/kanban").then((function(a){if(e){var t=[],n=!0,i=!1,o=void 0;try{for(var l,c=a.data.lists[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var s=l.value;t.push(Object(r.a)({},s,{items:[]}))}}catch(b){i=!0,o=b}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}var d=!0,p=!1,u=void 0;try{for(var f,g=function(){var e=f.value;t.forEach((function(a){a.id===e.list&&a.items.push(e)}))},v=a.data.tasks[Symbol.iterator]();!(d=(f=v.next()).done);d=!0)g()}catch(b){p=!0,u=b}finally{try{d||null==v.return||v.return()}finally{if(p)throw u}}m(t)}})),function(){e=!1}}),[]);return l.a.createElement(g.k,{className:e.root,title:"Kanban Board"},l.a.createElement(j,{onListAdd:function(){var e={id:p()(),title:"New list",items:[]};m((function(a){return[].concat(Object(n.a)(a),[e])}))}}),l.a.createElement("div",{className:e.content},l.a.createElement(c.a,{onDragEnd:function(e){var a=e.source,t=e.destination;if(t){var n=d.a.clone(s),r=n.find((function(e){return e.id===a.droppableId})),o=n.find((function(e){return e.id===t.droppableId})),l=r.items.splice(a.index,1),c=Object(i.a)(l,1)[0];a.droppableId===t.droppableId?(r.items.splice(t.index,0,c),m(n)):(c.list=t.droppableId,o.items.splice(t.index,0,c),m(n))}}},s.map((function(e){return l.a.createElement(c.c,{droppableId:e.id,key:e.id},(function(a,t){return l.a.createElement(A,{provided:a,snapshot:t,title:e.title,total:e.items.length},e.items.map((function(e,a){return l.a.createElement(c.b,{draggableId:e.id,index:a,key:e.id},(function(a,t){return l.a.createElement(z,{onOpen:function(){return function(e){h(e)}(e)},provided:a,snapshot:t,task:e})}))})),a.placeholder)}))})))),l.a.createElement(F,{onClose:function(){h(null)},open:Boolean(b),task:b}))};t.d(a,"default",(function(){return U}))}}]);
//# sourceMappingURL=26.a88e1f9b.chunk.js.map